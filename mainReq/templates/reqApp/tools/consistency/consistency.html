{% extends "reqApp/base.html" %}
{% load reqApp_tags %}
{% block body %}
<div>
    Consistencia: 
    <select progressbar style="display:inline-block;width:auto;vertical-align:top;" class="blue_button" title="Seleccionar Relación de Consistencia" id='consistencySelect' onchange="location = this.options[this.selectedIndex].value;">
        {% for key,val in CONSISTENCY_CHOICES %}
            <option value="?consistency={{key}}"{% ifequal consistency key %}selected{% endifequal %}>{{val}}</option>
        {% endfor %}
    </select>
    <select progressbar style="display:inline-block;width:auto;vertical-align:top;" class="blue_button" title="Seleccionar Elemento" onchange="location = document.getElementById('consistencySelect').options[document.getElementById('consistencySelect').selectedIndex].value + this.options[this.selectedIndex].value;">
        {% for key,val in IDENTIFIER_CHOICES %}
            <option value="&identifier={{key}}"{% ifequal identifier|stringformat:"s" key|stringformat:"s" %}selected{% endifequal %}>{{val}}</option>
        {% endfor %}
    </select>
    <div style="display:inline-block;position:relative;float:right;">
        <a class="blue_button" href="{% url 'reqApp:pdf' %}?pdfType=CT&consistency={{consistency}}" target="_blank">PDF</a>
        <a title="Ayuda" class="blue_button" href="{% url 'reqApp:help' %}#{{ helpLink }}" target="_blank">?</a>
    </div>
</div>
<br/>
<div>
<button title="Expandir Elementos" style="display: inline-block;width:auto;" href='#' class="blue_button" onclick='showContents()'>(+)Abrir Todos</button>
<button title="Colapsar Elementos" style="display: inline-block;width:auto;" href='#' class="blue_button" onclick='hideContents()'>(--)Cerrar Todos</button>
<div style="display: inline-block;width:20%;"></div>
</div>

<div style="text-align:right;">
    <p>
        <i style="color:Gray;">Estado:</i>
        <b class="reqLabel label-satisfy">cumple</b>
        <b class="reqLabel label-fails">no cumple</b>
        <b class="reqLabel label-ambiguous">ambiguo</b>
    </p>
</div>

{% if ordering_attributes %}
    {% with get_params="&consistency="|concat:consistency|concat:"&identifier="|concat:identifier %}
        {% include ordering_bar with attributes=ordering_attributes actual_order=actual_order getParams=get_params %}
    {% endwith %}
{% endif %}
    
{% ifequal elements|length 0 %}
    <p class="centered">--------------- Lista de Elementos Vacía ---------------</p>
{% else %}
    {% for e in elements %}
                {% include templates.element with element=e.element registry=False %}
        {% for se in e.subElements %}
            {% include templates.subElement with element=se registry=False extraStyle="margin-left:50px;" %}
        {% endfor %}
        <br/>
    {% endfor %}
{% endifequal %}

<br/><br/><br/><br/><br/><br/>

{% endblock %}
