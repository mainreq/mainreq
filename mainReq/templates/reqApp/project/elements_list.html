{% extends "reqApp/base.html" %}
{% load reqApp_tags %}
{% block body %}

{% if elementsFilters %}
    {% with get_params="&order="|concat:actual_order %}
        {% include "reqApp/project/filter.html" with elementsFilters=elementsFilters getParams=get_params %}
    {% endwith %}
    <br/>
{% endif %}

<div>

    <button title="Expandir Elementos" style="display: inline-block;width:auto;" class="blue_button" onclick='showContents()'>(+)Abrir Todos</button>
    <button title="Colapsar Elementos" style="display: inline-block;width:auto;" class="blue_button" onclick='hideContents()'>(--)Cerrar Todos</button>
    <div style="display: inline-block;width:20%;"></div>
    {% if canEdit %}
        <a title="Agregar Nuevo" style="display: inline-block;width:auto;" href='#new' class="blue_button" onclick='editNewElement()'>Nuevo</a>
    {% endif %}
    <div style="display:inline-block;position:relative;float:right;">
        <a title="Generar Documento PDF" class="blue_button" href="{% url 'reqApp:pdf' %}?pdfType={{ pdfLink }}" target="_blank">PDF</a>
        <a title="Ayuda" class="blue_button" style="cursor:help" href="{% url 'reqApp:help' %}#{{ helpLink }}" target="_blank">?</a>
    </div>
    
</div>

{% for msg in msgs %}
    <div class="message">
        {{ msg }}
    </div>
{% endfor %}

<div style="text-align:right;">
    <p>
        <i style="color:Gray;">Elementos:</i>
        <b class="reqLabel label-to_do">{{ elements|listCount }}</b>
        {% if colorLabels %}
            <i style="color:Gray;">Estado:</i>
            <b class="reqLabel label-satisfy">cumple</b>
            <b class="reqLabel label-fails">no cumple</b>
            <b class="reqLabel label-ambiguous">ambiguo</b>
        {% endif %}
    </p>
</div>

{% include ordering_bar with attributes=ordering_attributes actual_order=actual_order getParams=filtersQuery %}

{% ifequal elements|listCount 0 %}
    <p class="centered">--------------- Lista Vac√≠a ---------------</p>
{% else %}
    {% for e in elements %}
        {% include template with element=e canEdit=canEdit %}
    {% endfor %}
{% endifequal %}

{% if canEdit %}
    <div class="new_element">
        <a name='new'></a>
        {% include form_template with form=form %}
    </div>
{% endif %}

<br/><br/><br/><br/><br/><br/>

{% endblock %}
